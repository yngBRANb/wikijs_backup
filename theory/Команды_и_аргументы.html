<!--
title: Команды и аргументы
description: 
published: true
date: 2025-03-25T08:17:55.518Z
tags: 
editor: ckeditor
dateCreated: 2025-01-18T12:15:03.563Z
-->

<h1><span class="text-small">Основы работы с командной оболочкой bash и команда echo в Linux</span></h1>
<p>Интерфейс командной строки системы или командная оболочка, используемая в большинстве систем Linux, носит имя bash, которое расшифровывается как Bourne again shell (название "Born again shell" - "возрожденная командная оболочка" было изменено с целью упоминания автора оригинальной командной оболочки sh Стивена Борна). Командная оболочка bash реализует возможности командных оболочек sh (оригинальная командная оболочка Стивена Борна), csh (командная оболочка Билла Джоя с поддержкой сценариев, синтаксис которых основан на синтаксисе языка программирования C), а также ksh (командная оболочка Дэвида Корна).</p>
<p>В данной практической для демонстрации возможностей командной оболочки будет периодически использоваться команда echo. Команда echo является достаточно простой командой: она всего лишь осуществляет вывод переданных ей данных.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_1.png"></figure>
<h2><span class="text-small"><strong>Аргументы</strong></span></h2>
<p>Одной из важнейших возможностей командной оболочки является возможность обработки строк команд. При вводе команды после приглашения командной оболочки и нажатии клавиши Enter командная оболочка приступает к обработке строки команды, разделяя ее на аргументы. При обработке строки команды командная оболочка может внести множество изменений в переданные вами аргументы.</p>
<p>Данный процесс называется раскрытием команд командной оболочки. После того, как командная оболочка заканчивает обработку и модификацию переданной строки команды, будет осуществляться непосредственное исполнение результирующей команды.</p>
<h2><span class="text-small"><strong>Удаление пробелов</strong></span></h2>
<p>Части строки команды, которые разделены с помощью одного или нескольких последовательно расположенных символов пробелов (или табуляции), рассматриваются как отдельные аргументы, причем все пробелы удаляются. Первым аргументом является сама команда, которая должна быть исполнена, остальные аргументы передаются этой команде. Фактически командная оболочка производит разделение вашей строки команды на один или несколько аргументов.</p>
<p>Это полностью объясняет эквивалентность следующих четырех команд после их раскрытия средствами командной оболочки.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_2.png"></figure>
<p>Команда echo будет выводить каждый из принятых от командной оболочки аргументов. Также команда echo осуществляет добавление пробелов между всеми принятыми аргументами.</p>
<h2><span class="text-small"><strong>Одинарные кавычки</strong></span></h2>
<p>Вы можете предотвратить удаление пробелов из строки команды, поместив ее в одинарные кавычки. Содержимое экранированной таким образом строки рассматривается как единый аргумент. В примере ниже команда echo принимает только один аргумент.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_3.png"></figure>
<h2><span class="text-small"><strong>Двойные кавычки</strong></span></h2>
<p>Вы также можете предотвратить удаление пробелов из строки команды, поместив ее в двойные кавычки. Как и в примере выше, команда echo примет только один аргумент.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_4.png"></figure>
<p>Позднее при обсуждении переменных в рамках данной книги мы разберемся с важными различиями между одинарными и двойными кавычками.</p>
<h2><span class="text-small"><strong>Команда echo и кавычки</strong></span></h2>
<p>Строки, помещенные в кавычки, могут содержать специальные обозначения символов, идентифицируемые командной echo (в случае использования команды echo -e). В примере ниже продемонстрирована методика использования обозначения символа \n для вставки символа переноса строки, а также обозначения символа \t для вставки символа табуляции (обычно эквивалентного восьми символам пробела).</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_5.png"></figure>
<p>Команда echo может генерировать и другие символы помимо символов пробелов, табуляции и переноса строки. Обратитесь к странице руководства для ознакомления со списком допустимых обозначений символов.</p>
<h1><span class="text-small"><strong>Команды</strong></span></h1>
<h2><span class="text-small"><strong>1. Внешние или встроенные команды?</strong></span></h2>
<p>Не все исполняемые командной оболочкой команды являются внешними; некоторые из них являются встроенными. Внешние команды реализованы в форме программ, представленных отдельными бинарными файлами, которые размещены в какой-либо директории файловой системы. Многие бинарные файлы, реализующие функции внешних команд, размещаются в директории /bin или /sbin. Встроенные команды являются неотъемлемой частью самого приложения командной оболочки.</p>
<h2><span class="text-small"><strong>2. Команда type</strong></span></h2>
<p>Для установления того, будет ли переданная командной оболочке команда исполнена как внешняя команда или как встроенная команда, следует использовать специальную команду type.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_6.png"></figure>
<p>Как вы можете заметить, команда cd является встроенной, а команда cat - внешней.</p>
<p>Также вы можете использовать данную команду для установления того, является ли введенная команда псевдонимом команды.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_7.png"></figure>
<h2><span class="text-small"><strong>3. Исполнение внешних команд</strong></span></h2>
<p>Некоторые команды имеют как встроенные, так и внешние реализации. В случае исполнения одной из таких команд приоритет отдается встроенной реализации. Для исполнения внешней реализации вам придется ввести полный путь к бинарному файлу, являющемуся реализацией данной команды.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_8.png"></figure>
<h2><span class="text-small"><strong>4. Команда which</strong></span></h2>
<p>Команда which осуществляет поиск бинарных файлов в директории, заданной с помощью переменной окружения $PATH (переменные будут рассматриваться позднее). В примере ниже устанавливается, что cd является встроенной командой, а ls, cp, rm, mv, mkdir, pwd и which - внешними командами.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_9.png"></figure>
<h1><span class="text-small"><strong>Псевдонимы команд</strong></span></h1>
<h2><span class="text-small"><strong>1. Создание псевдонима команды</strong></span></h2>
<p>Командная оболочка позволяет вам создавать псевдонимы команд (aliases). Псевдонимы команд обычно используются для создания лучше запоминающихся имен для существующих команд или для упрощения передачи параметров команд.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_10.png"></figure>
<h2><span class="text-small"><strong>2. Сокращения команд</strong></span></h2>
<p>Команда создания псевдонима команды (alias) также может оказаться полезной в случае необходимости сокращения длины имени существующей команды.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_11.png"></figure>
<h2><span class="text-small"><strong>3. Стандартные параметры команд</strong></span></h2>
<p>Псевдонимы команд могут использоваться для передачи командам стандартных параметров. Например, ниже показана методика передачи параметра -i по умолчанию при вводе команды rm.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_12.png"></figure>
<p>В некоторых дистрибутивах используются стандартные псевдонимы команд для защиты пользователей от случайного удаления файлов ('rm -i', 'mv -i', 'cp -i').</p>
<h2><span class="text-small"><strong>4. Просмотр объявлений псевдонимов команд</strong></span></h2>
<p>Вы можете передать один или несколько псевдонимов команд в качестве аргументов команды alias для вывода их объявлений. Исполнение команды без аргументов приведет к выводу полного списка используемых на данный момент псевдонимов.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_13.png"></figure>
<h2><span class="text-small"><strong>5. Команда unalias</strong></span></h2>
<p>Также вы можете прекратить использование псевдонима команды, воспользовавшись командой unalias.</p>
<figure class="image"><img src="/ssa/baza_linux/theoretica/com_14.png"></figure>
<h1><span class="text-small"><strong>Контрольные вопросы:</strong></span></h1>
<ol>
  <li>Сколько аргументов передается с помощью данной строки команды (не считая самой команды) <strong>touch '/etc/cron/cron.allow' 'file 42.txt' "file 33.txt" file11.txt</strong></li>
  <li>В каких случаях количество пробелов между словами foo и bar будет сохранено в результате выполнения команды echo?</li>
  <li>Какая команда предназначена для определения, будет ли переданная командной оболочке команда исполнена как внешняя команда или как встроенная команда?</li>
  <li>Какая команда осуществляет поиск бинарных файлов в директории, заданной с помощью переменной окружения $PATH?</li>
  <li>Напишите команду для создания псевдонима для команды "ls -lh", и назовите псевдоним "lh".</li>
  <li>Проверьте с помощью type и which, какие команды являются встроенными в командную оболочку, а какие внешними: alias, echo, rm, route, tac, which.</li>
  <li>Отметьте команды, встроенные в командную оболочку: which, echo, alias, tac, route, rm.</li>
  <li>Отметьте внешние команды: route, tac, rm, which, echo, alias.</li>
</ol>
