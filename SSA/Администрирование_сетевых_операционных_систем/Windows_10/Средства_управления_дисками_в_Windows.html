<!--
title: Средства управления дисками в Windows
description: 
published: true
date: 2025-03-11T04:34:03.689Z
tags: 
editor: ckeditor
dateCreated: 2025-01-15T11:41:19.965Z
-->

<p><strong>Цель работы:</strong> изучить функции управления дисками в Windows.</p>
<h1><span class="text-small"><strong>Краткие теоретические и учебно-методические материалы по теме лабораторной работы:</strong></span></h1>
<p><strong>Управление дисками</strong> — это служебная программа в Windows для расширенных операций хранения. Ниже приведены некоторые задачи, которые можно выполнить с помощью управления дисками:</p>
<ul>
  <li>Настроить новый диск</li>
  <li>Расширить том в пространство, которое еще не является частью тома на одном диске</li>
  <li>Сжать секции, например включение расширения в соседнюю секцию</li>
  <li>Изменить букву диска или назначить новую букву диска.</li>
</ul>
<p>Windows обычно включает три раздела на основном диске (обычно диск C:\). К этим разделам относятся системный раздел EFI, раздел локального диска (C:) и раздел восстановления.</p>
<p>Основные разделы диска и их функции в операционной системе Windows:</p>
<ul>
  <li>Системный раздел (System Partition)</li>
</ul>
<p>Функция: Содержит файлы, необходимые для загрузки Windows, такие как загрузчик (boot manager) и конфигурационные данные.</p>
<p>Примечание: Обычно имеет размер около 100-500 МБ и не содержит пользовательских данных.</p>
<ul>
  <li>Основной раздел (Primary Partition)</li>
</ul>
<p>Функция: Содержит установленную операционную систему и пользовательские программы.</p>
<p>Примечание: Это основной раздел, с которого загрузчик запускает ОС Windows. Важно поддерживать достаточное свободное место для нормальной работы системы.</p>
<ul>
  <li>Раздел восстановления (Recovery Partition)</li>
</ul>
<p>Функция: Предоставляет средства для восстановления системы в случае сбоя, включая образ системы и утилиты восстановления.</p>
<p>Примечание: Может включать инструменты для сброса настроек или восстановления до заводских настроек.</p>
<p>Вообще структура диска в системе устроена так:</p>
<ul>
  <li>Таблица разделов (MBR или GPT): Эта таблица хранит информацию о разделах на диске, таких как их количество, размер и расположение.</li>
  <li>Разделы: Это логические области на диске, которые могут содержать данные. Каждый раздел может быть отформатирован с использованием файловой системы.</li>
  <li>Файловые системы: Это структуры, которые управляют тем, как данные хранятся и организуются в каждом разделе. Примеры файловых систем: NTFS, FAT32, ext4 и др.</li>
</ul>
<p>На данный момент существует 2 таблицы разделов:</p>
<p><strong>1. MBR (Master Boot Record):</strong></p>
<ul>
  <li>Поддерживает до 4 основных разделов и ограничен размером диска в 2 ТБ.</li>
  <li>Содержит информацию о загрузке ОС и структуре разделов.</li>
  <li>Более старый стандарт, совместимый с BIOS.</li>
</ul>
<p><strong>2. GPT (GUID Partition Table):</strong></p>
<ul>
  <li>Поддерживает до 128 разделов и диски размером до 9.4 ЗБ.</li>
  <li>Хранит резервные копии таблицы разделов для повышения надежности.</li>
  <li>Совместим с UEFI, обеспечивая более быструю загрузку.&nbsp;</li>
</ul>
<h1><span class="text-small"><strong>Задания для лабораторной работы:</strong></span></h1>
<h2><span class="text-small">1. Чтобы запустить управление дисками, в любой версии Windows (от XP) необходимо нажать клавиши Windows + R и ввести diskmgmt.msc в окно «Выполнить».</span></h2>
<figure class="image"><img src="/ssa/windows/pract/disk_1.png"></figure>
<h2><span class="text-small">2. Общие сведения об интерфейсе:</span></h2>
<p>При первом запуске управления дисками, вам будет представлен интерфейс с двумя панелями. Список томов находится вверху, а список физических дисков – внизу.</p>
<p>У вас на системном диске может не быть раздела восстановления (это зависит от установки).</p>
<figure class="image"><img src="/ssa/windows/pract/disk_2.png"></figure>
<p>Доступ к большинству важных действий быстрее всего получить либо кликнув правой кнопкой мыши по изображению раздела, над которым нужно совершить действие, либо – по обозначению самого накопителя – в первом случае появится меню с действиями, которые можно применить к конкретному разделу, во втором – к жесткому диску или другому накопителю в целом.</p>
<p>Некоторые задачи, такие как создание и присоединение виртуального диска, доступны в пункте «Действие» главного меню.</p>
<h2><span class="text-small">3. Инициализация дисков.</span></h2>
<p>Чтобы не убить ВМ мы не будем производить операции с системным диском, за место него мы будем использовать дополнительные.</p>
<p>Для того чтобы добавить диск к вашей ВМ Windows 10, в интерфейсе VMware Workstation нажмите ПКМ на вашу ВМ и выберите <strong>settings</strong>:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_3.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_4.png"></figure>
<p>Выберите <strong>Hard Disk</strong> и нажмите далее:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_5.png"></figure>
<p>Далее будет выбор интерфейса для подключения HDD:</p>
<ul>
  <li>SCSI - Обычно обеспечивает лучшую производительность при работе с большим количеством операций ввода-вывода (I/O). Меньшая совместимость с некоторыми версиями Windows.</li>
  <li>SATA - Хорошая совместимость с Windows. Ограниченная производительность по сравнению с SCSI в некоторых сценариях, особенно при высоких нагрузках.</li>
</ul>
<p>Давайте выберем <strong>SCSI</strong> интерфейс.</p>
<figure class="image"><img src="/ssa/windows/pract/disk_6.png"></figure>
<p>Дальше нам нужно выбрать тип создания диска:</p>
<ul>
  <li>Создать новый диск</li>
  <li>Использовать уже существующий виртуальный диск</li>
  <li>Использовать физический диск</li>
</ul>
<p>Нам нужно выбрать первый вариант - <strong>Create a new virtual disk</strong>:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_7.png"></figure>
<p>Указываем размер нового диска и тип его хранения <strong>single file</strong>:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_8.png"></figure>
<p>Задаем имя диска (лучше оставить стандартное) и завершаем его создание:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_9.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_10.png"></figure>
<p>После этого в утилите Управление дисками должен появиться новый диск:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_11.png"></figure>
<p>На нем мы не видим разделов, так как это новый диск и Windows не обнаружила никакого формата таблицы разделов.</p>
<p>На скриншоте выше вы можете заметить, что диски имеют дополнительную информацию – вы можете видеть, что диск C: является загрузочным диском, а системный раздел – активным и исправным.</p>
<p>Так же видим, что на основном разделе находится файл подкачки.</p>
<p>Оба раздела являются основными. Этот зарезервированный системный раздел фактически содержит загрузочные файлы, поэтому BIOS компьютера первоначально загружает с этого раздела загрузчик (boot manager), а затем Windows загружается с основного раздела.</p>
<p>Теперь нам осталось только инициализировать новый диск в системе. Для этого нажмите ПКМ на новый диск и кликните на пункт "Инициализировать диск":</p>
<figure class="image"><img src="/ssa/windows/pract/disk_12.png"></figure>
<p>Дальше нам предоставится выбор таблицы разделов, давайте для начала выберем старую - MBR:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_13.png"></figure>
<h2><span class="text-small">4. Преобразование диска MBR в GPT.</span></h2>
<p>Управление дисками позволяет вам легко преобразовать диск из таблицы разделов MBR в GPT и обратно.</p>
<p>Для этого нажмите ПКМ на диск и кликните на пункт "Преобразовать в GPT":</p>
<figure class="image"><img src="/ssa/windows/pract/disk_14.png"></figure>
<h2><span class="text-small">5. Использование формата MBR в жизни.</span></h2>
<p>Если вы форматируете диск, который вы планируете подключить к разным компьютерам, обычно необходимо использовать «стиль» раздела MBR, потому что это старый формат, который работает везде, потому что любой компьютер с обычной BIOS имеет поддержку жестких дисков, разбитых с помощью MBR.</p>
<p>Современные компьютеры, использующие UEFI, уходят от поддержки MBR и вместо этого переключаются на более новую и более замену, известную как GPT (Guid Partition Table), потому что MBR имеет ряд проблем и ограничений (операционную систему Windows 11 в принципе невозможно установить на диск с таблицей MBR).</p>
<p>Одним из этих ограничений является то, что MBR поддерживает только до 4 основных разделов. Если вы хотите использовать более 4 разделов, вам нужно установить четвертый раздел в качестве «расширенного» основного раздела, который затем может содержать «логические» разделы внутри него.</p>
<p>Следующим ограничением является то, что разделы, использующие формат MBR, имеют максимальный размер 2 ТБ.</p>
<h2><span class="text-small">6. Отличие логического раздела от основного.</span></h2>
<p>Логические разделы диска от основных функционально не отличаются. Что на основных, что на логических разделах диска – и там, и там хранится информация. Отличие заключается в том, что с логического раздела диска невозможен запуск Windows.</p>
<h2><span class="text-small">7. Создание простого тома.</span></h2>
<p>Пора бы возвращаться к практике, но перед распределением пространства диска осталось понять что такое <strong>том</strong> и в чем его отличие от <strong>раздела</strong>.</p>
<p>Том - это раздел на диске, который имеет файловую систему.</p>
<p>Раздел - это просто выделенное пространство на диске еще не готовое к использованию.</p>
<p>Термин Том обычно используется только в ОС Windows, так как в ней мы сразу создаем раздел с файловой системой.</p>
<p>Давайте на нашем новом диске создадим новый том, для этого нажмите ПКМ на нераспределенное пространство и нажмите "создать простой том":</p>
<figure class="image"><img src="/ssa/windows/pract/disk_15.png"></figure>
<p>Оставьте все параметры по умолчанию и завершите создание простого тома.</p>
<p>После этого у вас появится новый диск в проводнике:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_16.png"></figure>
<h2><span class="text-small">8. Создание нескольких томов с разными файловыми системами на одном диске.</span></h2>
<p>Мы рассмотрели самый простой и популярный сценарий создания тома на диске. Давайте попробуем что-нибудь посложнее.</p>
<p>Windows хорошо работает с двумя файловыми системами:</p>
<ul>
  <li>NTFS - стандартная ФС (файловая система) в Windows;</li>
  <li>FAT32 - является одной из старейших файловых систем. В наше время используется только для внешних накопителей.</li>
</ul>
<p>Давайте попробуем на одном диске разместить обе файловые системы.</p>
<p>Чтобы не добавлять в систему еще 1 тестовый диск, давайте удалим недавно созданный том:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_17.png"></figure>
<p>После этого давайте создадим новый том с ФС NTFS, который будет занимать половину диска:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_15.png"></figure>
<p>Укажем только половину от максимального размера:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_19.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_20.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_21.png"></figure>
<p>После этой процедуры ровно половина диска осталась неразмеченной:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_22.png"></figure>
<p>На этой половине мы создадим том с ФС FAT32:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_23.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_24.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_25.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_26.png"></figure>
<p>Должно получится вот так:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_27.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_28.png"></figure>
<h2><span class="text-small">9. Сжатие тома и Расширение тома.</span></h2>
<p>Функция сжатия тома позволяет уменьшать объем данных на жестком диске. Это достигается за счет сжатия файлов и папок, что освобождает место на диске без удаления данных.</p>
<p>Сжатие тома в Windows так же может пригодиться, если у вас есть диск с полностью распределенным пространством, а вам нужен еще один том.</p>
<p>Давайте для примера сожмем созданные нами NTFS и FAT32 тома, чтобы создать еще один NTFS том.</p>
<p>Нажмите правой кнопкой мыши на интересующий вас раздел и выберите «Сжать том…»</p>
<figure class="image"><img src="/ssa/windows/pract/disk_29.png"></figure>
<p>Установите размер донорского пространства (лучше оставьте значения по умолчанию) и нажмите «Сжать». Если сжать том не удаётся, нужно либо умерить аппетиты, либо удалить часть содержимого тома.</p>
<figure class="image"><img src="/ssa/windows/pract/disk_30.png"></figure>
<p>Так так мы ничего не хранили на NTFS томе, его получилось сильно его сжать:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_31.png"></figure>
<p>Теперь вы наводитесь на FAT32 том, чтобы сжать его и видите что пункт «Сжать том…» недоступен, недоступна так же и опция «Расширить том».</p>
<p>Причины недоступности опций:</p>
<ul>
  <li>Сжатие — FAT32 очень старая ФС и в ее основу просто не был заложен принцип сжатия на уровне ФС.</li>
  <li>Расширение — расширить том возможно только в том случае, если справа от него на том же диске есть нераспределенное пространство. Windows не может расширить базовый раздел слева от себя – для этого вам понадобится стороннее программное обеспечение.</li>
</ul>
<p>Так как изначально задуманный план невозможно реализовать, давайте просто удалим FAT32 том и расширим NTFS на все пространство диска.</p>
<p>Удаляем FAT32:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_32.png"></figure>
<p>Расширяем NTFS:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_33.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_34.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_35.png"></figure>
<h2><span class="text-small">10. Базовый и динамические диски.</span></h2>
<p>При установке Windows операционная система по умолчанию настраивает носитель как базовый диск. То же самое происходит при добавлении нового накопителя. Тем не менее, Windows предлагает возможность настроить диск как динамический.</p>
<p>Оба типа дисков могут использоваться для хранения информации, разница в том, как они используются.</p>
<p><strong>Базовый диск</strong> – это оригинальный вид дисков, они существуют со времен DOS. Данные отслеживаются с помощью GTP и MBR. В этих стилях разделов разрешены только первичные и логические разделы. После создания разделы не могут быть изменены напрямую без сторонних инструментов. Это одна из причин, по которой размеры разделов ограничены пространством на жестком диске. Он имеет двойную мультизагрузку, простоту использования и защищает ваши данные. К счастью, вы можете преобразовать базовый диск в динамический диск без потери данных.</p>
<p><strong>Динамический диск</strong> – представляет особый тип хранилища, используемого компьютерами Windows. Они отслеживают тома с помощью баз данных LDM и VDS, MBR или GTP. Динамические диски позволяют создавать тома с различными конфигурациями пространства. Динамические тома можно легко изменять и перемещать между ними. Используя базу данных, ваш компьютер создает новые динамические диски и восстанавливает поврежденные. Динамические тома бывают пяти типов: простые, растянутые, полосатые, зеркальные и RAID–5. Но ни один из них не поддерживает мультизагрузку.</p>
<p>К сожалению, вы не можете конвертировать динамические диски в базовые диски напрямую. Вам нужно удалить их перед преобразованием. Чтобы избежать потери данных, вам понадобятся сторонние инструменты.</p>
<p>Давайте преобразуем диск в динамический:</p>
<figure class="image"><img src="/ssa/windows/pract/disk_36.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_37.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/disk_38.png"></figure>
<h1><strong>Контрольные вопросы:</strong></h1>
<ol>
  <li>С какой утилитой вы работали на этой практической работе? На что она способна?</li>
  <li>Какие бывают форматы разделов диска?</li>
  <li>Как создать новый том?</li>
  <li>Можем ли мы изменить "букву" тома в Windows?</li>
  <li>Какие есть отличия MBR от GPT?</li>
  <li>Назовите стандартные разделы на системном диске Windows.</li>
  <li>Как устроена структура диска в системе?</li>
  <li>Как работает зарезервированное пространство системного диска? Мы можем его использовать?</li>
  <li>Возможно ли преобразовать динамический диск в базовый напрямую?</li>
</ol>
