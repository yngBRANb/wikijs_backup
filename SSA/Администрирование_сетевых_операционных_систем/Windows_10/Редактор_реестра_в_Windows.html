<!--
title: Редактор реестра в Windows
description: 
published: true
date: 2025-03-11T04:36:10.183Z
tags: 
editor: ckeditor
dateCreated: 2025-01-15T08:54:15.005Z
-->

<p><strong>Цель работы:</strong> получить представление о структуре и функциях редактора реестра Windows. Ознакомиться с протоколом NTP.</p>
<h1><span class="text-small"><strong>Краткие теоретические и учебно-методические материалы по теме лабораторной работы:</strong></span></h1>
<p>Реестр Windows представляет собой структурированную базу данных, в которой хранятся параметры и информация, используемая операционной системой, драйверами, службами и программами.</p>
<p>Основным и наиболее известным инструментом администрирования Реестра Windows является утилита Редактор реестра (Registry Editor), входящая в состав любой копии ОС Windows (RegEdit.exe).</p>
<p>Интерфейс Редактора реестра представляет собой обычное окно со строкой заголовка, строкой меню (Файл, Правка, Вид, Избранное, Справка). Рабочее окно Редактора реестра разделено на две части: в левой (Панель разделов) отображаются ветви, разделы и подразделы, в правой (Панель параметров) – параметры выбранного элемента Реестра. По своей сути программа RegEdit мало отличается от файлового менеджера Проводник Windows.</p>
<p>С помощью правки реестра можно изменить очень многие параметры, оптимизировать работу системы, отключить какие–либо ненужные функции системы и многое другое.</p>
<p>Редактор реестра можно использовать для выполнения следующих задач:</p>
<ul>
  <li>поиск поддерева, раздела, подраздела или параметра;</li>
  <li>добавление подраздела или параметра;</li>
  <li>изменение значения параметра;</li>
  <li>удаление подраздела или параметра;</li>
  <li>переименование подраздела или параметра. &nbsp;</li>
</ul>
<h1><span class="text-small"><strong>Задания для лабораторной работы:</strong></span></h1>
<p>Запустите виртуальную машину Windows 10, созданную на прошлой практической работе.</p>
<p>Для начала давайте изучим интерфейс этой утилиты и разберемся в структуре реестра, а затем рассмотрим его практическое применение.</p>
<h2><span class="text-small">1. Чтобы запустить редактор реестра, в любой версии Windows (от XP) необходимо нажать клавиши Windows + R и ввести regedit в окно «Выполнить».</span></h2>
<figure class="image"><img src="/ssa/windows/pract/regedit_1.png"></figure>
<h2><span class="text-small">2. При запуске редактора реестра служба контроля учётных записей потребует дать согласие на разрешение для данного приложения вносить изменения на устройстве. Необходимо нажать «Да».</span></h2>
<figure class="image"><img src="/ssa/windows/pract/regedit_2.png"></figure>
<h2><span class="text-small">3. Запуская редактор реестра слева, вы увидите ветви реестра в панели разделов, справа находится панель параметров.</span></h2>
<figure class="image"><img src="/ssa/windows/pract/regedit_3.png"></figure>
<h2><span class="text-small">4. Основная работа с программой Редактор реестра осуществляется с использованием командной панели, расположенной под панелью заголовка программы.</span></h2>
<figure class="image"><img src="/ssa/windows/pract/regedit_4.png"></figure>
<p>Командная панель содержит пять меню:</p>
<ul>
  <li>Меню Файл. Используется для экспорта–импорта файла реестра и его отдельных элементов. Позволяет передавать содержимое какой–либо части реестра на печать или открывать для редактирования файлы реестра других компьютеров, размещенных в локальной сети.</li>
  <li>Меню Правка. Предназначено для создания, удаления и переименования логических элементов реестра. Дает возможность искать нужные данные, настраивать параметры безопасности.</li>
  <li>Меню Вид. Используется для изменения настроек программы.</li>
  <li>Меню Избранное. Дает возможность указывать закладки для различных разделов и подразделов системного реестра, чтобы иметь возможность быстро к ним перейти.</li>
  <li>Меню Справка. Для получения информации о программе.</li>
</ul>
<h2><span class="text-small">5. Давайте с помощью меню Файл экспортируем весь текущий реестр, чтобы вернуть его исходные значения в случае неисправности:</span></h2>
<figure class="image"><img src="/ssa/windows/pract/regedit_5.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/regedit_6.png"></figure>
<p>Если необходимо, можно экспортировать любой раздел реестра, включая подразделы. Значения будут сохранены в файле с расширением .reg, который по сути является текстовым файлом и его можно редактировать с помощью текстового редактора.</p>
<p>Для импорта значений из такого файла, вы можете просто дважды кликнуть по нему или же выбрать в меню редактора реестра «Файл» — «Импорт». Импорт значений может понадобиться в различных случаях, например, для того, чтобы исправить ассоциации файлов Windows.</p>
<p>С помощью пункта меню «Файл» – «Загрузить куст» в редакторе реестра вы можете выполнить загрузку разделов и ключей с другого компьютера или жесткого диска.</p>
<h2><span class="text-small">6. Структура системного реестра Windows.</span></h2>
<p>Реестр Windows – многоуровневая архитектура, включающая в себя четыре логических компонента:</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_7.png"></figure>
<p><strong>1. Ветви реестра:</strong></p>
<figure class="image"><img src="/ssa/windows/pract/regedit_8.png"></figure>
<p>Описание ветвей:</p>
<ul>
  <li>HKEY_CLASSES_ROOT – данный раздел используются для хранения и управления ассоциациями файлов. Фактически, данный раздел является ссылкой на HKEY_LOCAL_MACHINE/Software/Classes</li>
  <li>HKEY_CURRENT_USER – содержит параметры для пользователя, под именем которого был осуществлен вход в систему. Здесь же хранятся большинство параметров установленных программ. Является ссылкой на раздел пользователя в HKEY_USERS.</li>
  <li>HKEY_LOCAL_MACHINE – в данном разделе хранятся настройки ОС и программ в целом, для всех пользователей.</li>
  <li>HKEY_USERS – хранит настройки для всех пользователей системы.</li>
  <li>HKEY_CURRENT_CONFIG – содержит параметры всего установленного оборудования.</li>
</ul>
<p><strong>2. Разделы/Ключи реестра:</strong></p>
<figure class="image"><img src="/ssa/windows/pract/regedit_9.png"></figure>
<p>Названия разделов можно условно поделить на две категории:</p>
<ul>
  <li>Указываются системой. Имена ключей выбираются ОС, их изменение может сделать Windows полностью неработоспособной.</li>
  <li>Указываются пользователем. Имена ключей может изменять администратор компьютера, и такие модификации не станут причиной каких–либо фатальных проблем.</li>
</ul>
<p>Любые действия по созданию и изменению разделов и значений реестра можно выполнить, обратившись к контекстному меню, появляющемуся по правому клику по имени раздела или в правой области со значениями (или по самому ключу, если его требуется изменить.</p>
<p><strong>3. Подразделы реестра:</strong></p>
<figure class="image"><img src="/ssa/windows/pract/regedit_10.png"></figure>
<p><strong>4. Параметры реестра:</strong></p>
<figure class="image"><img src="/ssa/windows/pract/regedit_11.png"></figure>
<h2><span class="text-small">7. Расположение файлов реестра:</span></h2>
<p>Файлы реестра хранятся на системном диске в папке Windows/System32/Config — файлы SAM, SECURITY, SYTEM и SOFTWARE содержат информацию из соответствующих разделов в HKEY_LOCAL_MACHINE.</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_12.png"></figure>
<p>Данные из HKEY_CURRENT_USER хранятся в скрытом файле NTUSER.DAT в папке «Users/Имя_пользователя» на компьютере.</p>
<h2><span class="text-small">8. Вот мы и ознакомились с реестром Windows. Давайте теперь применим полученные знания настроив синхронизацию времени с NTP сервером.</span></h2>
<p>NTP (Network Time Protocol) — это сетевой протокол, позволяющий синхронизировать время на компьютерах в сети. Он работает по принципу иерархической структуры, где на вершине находятся высокоточные серверы времени, а остальные компьютеры получают время от них.</p>
<p>Когда вы включаете компьютер впервые или после сброса BIOS, часам присваивается начальное значение. Но это значение может отличаться от реального времени на несколько секунд или даже минут. Это обусловлено следующими факторами:</p>
<ul>
  <li>Неточности кварцевого генератора: Кварцевый генератор в часах компьютера не абсолютно точен. Он может отклоняться от реального времени на несколько миллисекунд в час.</li>
  <li>Перепады напряжения: Перепады напряжения в сети могут повлиять на работу кварцевого генератора, вызывая неточности в времени.</li>
  <li>Ошибки BIOS: BIOS может содержать ошибки в настройках времени, что может привести к неправильному установлению начального времени.</li>
</ul>
<p>Текущее отклонение от эталонного времени можно посмотреть перейдя на сайт <a href="https://www.ntp-servers.net/">NTP SERVERS</a> (откройте его на ВМ):</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_13.png"></figure>
<p>Чтобы синхронизировать время нашей ВМ с NTP сервером воспользуемся редактором реестра.</p>
<p>В Редакторе реестра перейдите по пути \HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\TimeProviders\NtpServer.</p>
<p>Для этого можно воспользоваться деревом в левой части окна или скопировать и добавить строку пути в поле в верхней части окна:</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_14.png"></figure>
<p>Откройте окно изменения параметра Enabled двойным щелчком мыши по нему в правой части окна Редактора реестра. Измените значение параметра на 1 и нажмите кнопку ОК:</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_15.png"></figure>
<p>В Редакторе реестра перейдите по пути \HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\Config.</p>
<p>Измените значение параметра AnnounceFlags на 5.</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_16.png"></figure>
<p>Закройте Редактор реестра.</p>
<p>Чтобы синхронизация заработала нужно запустить службу W32Time, для этого:</p>
<p>Нажмите ПКМ на меню ПУСК и откройте PowerShell от имени Администратора.</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_17.png"></figure>
<p>Введите в PowerShell команду <strong>net start w32time</strong>:</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_18.png"></figure>
<p>Если мы проверим какой NTP сервер используется по умолчанию, увидим time.windows.com (NTP Microsoft):</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_19.png"></figure>
<p>Теперь у вас должно быть точное время, чтобы это проверить снова откройте сайт <a href="https://www.ntp-servers.net/">NTP SERVERS</a>:</p>
<figure class="image"><img src="/ssa/windows/pract/regedit_20.png"></figure>
<h1><span class="text-small"><strong>Контрольные вопросы:</strong></span></h1>
<ol>
  <li>Что такое реестр?</li>
  <li>Из чего состоит структура реестра?</li>
  <li>В какой ветви реестра хранятся настройки всех пользователей?</li>
  <li>Какие значения не могут содержать имена ключей?</li>
  <li>Что такое NTP? Для чего нужен этот протокол?</li>
  <li>Можно ли развернуть свой NTP сервер для компьютеров в локальной сети?</li>
  <li>Что такое NTP stratum? На каком сервере точнее время со стратумом 1 или 3? Почему?</li>
</ol>
