<!--
title: Службы Windows
description: 
published: true
date: 2025-03-11T04:35:08.904Z
tags: 
editor: ckeditor
dateCreated: 2025-01-15T11:39:36.271Z
-->

<p><strong>Цель работы:</strong> изучить функционал средств управления службами и научиться использовать их возможности на практике.</p>
<h1><span class="text-small"><strong>Краткие теоретические и учебно-методические материалы по теме лабораторной работы:</strong></span></h1>
<p>Службы Windows – это особый тип приложений, которые настроены на запуск и работу в фоновом режиме, в некоторых случаях еще до того, как пользователь войдет в систему. Их можно настроить для работы от имени локальной системной учетной записи. Службы предназначены для непрерывной работы в фоновом режиме и выполнения системных задач, таких как резервное копирование или запуск серверного процесса, прослушивающего сетевой порт, подключение к внешним устройствам или создание стабильного подключения к Интернету. Они имеют общие черты с концепцией демонов Unix.</p>
<p>Как и любое другое приложение службы используют системные ресурсы компьютера. Вы можете заметить, что при загрузке компьютера он сразу поглощает часть оперативной памяти, даже если приложения не открываются. Что ж, большая часть этой оперативной памяти используется службами Windows.</p>
<p>Еще во времена Windows XP службы можно было настроить для интерактивной работы и запуска вместе с остальными вашими приложениями, но начиная с Vista все службы вынуждены работать в специальном сеансе окна, который не может взаимодействовать с вашим локальным рабочим столом. Таким образом, служба, которая пытается открыть диалоговое окно или показать вам сообщение, не сможет этого сделать.</p>
<p>В отличие от обычных приложений, которые можно просто запустить и запустить под вашей учетной записью пользователя, служба должна быть установлена и зарегистрирована в Windows, для чего требуется учетная запись администратора и, как правило, запрос контроля учетных записей, прежде чем это произойдет. Поэтому, если вы не разрешаете приложению запускаться от имени администратора, оно не может просто создать службу для работы в фоновом режиме.&nbsp;</p>
<h1><span class="text-small"><strong>Задания для лабораторной работы:</strong></span></h1>
<h2><span class="text-small">1. Открытие служб:</span></h2>
<p>Есть много способов получить доступ к средству управления службами Windows. Вы можете получить к нему доступ из панели управления в разделе «Инструменты администратора» или введите «Службы Windows» в системном поиске Windows.</p>
<p>Чтобы запустить средства управления службами в Windows, необходимо нажать клавиши Windows + R и ввести services.msc в окно «Выполнить».</p>
<figure class="image"><img src="/ssa/windows/pract/serv_1.png"></figure>
<p>Средство управления службами обитает по адресу: C:\ProgramData\Microsoft\Windows\Start\Menu\Programs\Administrative\Tools\services.lnk</p>
<h2><span class="text-small">2. Интерфейс средства управления службами. Панель службы:</span></h2>
<figure class="image"><img src="/ssa/windows/pract/serv_2.png"></figure>
<p>Панель довольно проста: в ней есть список службы, столбец состояния, показывающий, запущены они или нет и дополнительная информация, такая как имя, описание, тип запуска службы и раздел вход от имени. Вы заметите, что не все службы работают постоянно.</p>
<h2><span class="text-small">3. Сверху находится панель инструментов или командная панель.</span></h2>
<p>Командная панель содержит четыре меню:</p>
<ul>
  <li>Меню Файл. Используется для настройки параметров службы и для закрытия приложения.</li>
  <li>Меню Действие. Предназначено экспорта текущего списка служб в txt файл. Также есть возможность подключиться к другому компьютеру и управлять его службами.</li>
  <li>Меню Вид. Используется для изменения настроек программы.</li>
  <li>Меню Справка. Для получения информации о программе</li>
</ul>
<h2><span class="text-small">4. Работа со службами. Общее.</span></h2>
<p>По каждой службе можно два раза кликнуть мышкой и увидеть описание, статус запуска, используемые права, зависимости (другие службы), исполняемый файл и прочие параметры.</p>
<figure class="image"><img src="/ssa/windows/pract/serv_3.png"></figure>
<p>Так же можно управлять текущем состоянием службы:</p>
<figure class="image"><img src="/ssa/windows/pract/serv_4.png"></figure>
<h2><span class="text-small">5. Работа со службами. Вход в систему.</span></h2>
<p>Вкладка «Вход в систему» позволяет выбрать, будет ли служба входить в систему под учетной записью локальной системы или под другой учетной записью. Это в основном полезно в серверной среде, где вы можете захотеть запустить учетную запись службы из домена, имеющего доступ к ресурсам на других серверах.</p>
<figure class="image"><img src="/ssa/windows/pract/serv_5.png"></figure>
<p>«Разрешить взаимодействие с рабочим столом». По умолчанию службам не разрешен доступ к вашему рабочему столу, если этот флажок не установлен. На практике этот флажок действительно существует только для крайне устаревших служб, например на Windows 8.</p>
<p>В большинстве случаев рекомендуется не изменять этот параметр. Если служба может взаимодействовать с рабочим столом, то любые сведения, отображаемые службой на рабочем столе, также будет отображаться на рабочем столе интерактивных пользователей. Злоумышленник может получить управление службой в свои руки или атаковать ее с интерактивного рабочего стола.</p>
<p>Возможные параметры входа в систему:</p>
<ul>
  <li>Чтобы указать, что служба должна использовать учетную запись «Локальная система», щелкните «С системной учетной записью».</li>
  <li>Чтобы указать, что служба должна использовать учетную запись «Локальная служба», щелкните «С учетной записью» и введите NT AUTHORITY\LocalService.</li>
  <li>Чтобы указать, что служба должна использовать учетную запись «Сетевая служба», щелкните «С учетной записью» и введите NT AUTHORITY\NetworkService.</li>
</ul>
<h2><span class="text-small">6. Работа с службами. Восстановление.</span></h2>
<p>Вкладка «Восстановление» позволяет выбрать варианты действий при сбое службы:</p>
<figure class="image"><img src="/ssa/windows/pract/serv_6.png"></figure>
<figure class="image"><img src="/ssa/windows/pract/serv_7.png"></figure>
<h2><span class="text-small">7. Работа с службами. Зависимости.</span></h2>
<figure class="image"><img src="/ssa/windows/pract/serv_8.png"></figure>
<p>На вкладке зависимостей показано, какие службы зависят от конкретной службы, а какие службы зависят от того, на который вы смотрите. Если вы планируете отключить службу, вероятно, следует сначала ознакомиться с этим разделом, чтобы убедиться, что после отключения не сломаются другие компоненты.</p>
<h2><span class="text-small">8. Администрирование служб из команды строки.</span></h2>
<p>Управлять службами можно также через командую строку CMD, используя утилиту <strong>SC</strong>.</p>
<p>SC представляет собой программу командной строки, используемую для связи со службами и диспетчером управления службами.</p>
<p>Чтобы запросить статус всех служб откройте CMD и выполните: <strong>sc query</strong></p>
<figure class="image"><img src="/ssa/windows/pract/serv_9.png"></figure>
<p>Чтобы запросить статус конкретной службы используйте команду: <strong>sc qс &lt;имя службы&gt;</strong></p>
<figure class="image"><img src="/ssa/windows/pract/serv_10.png"></figure>
<p>Существует множество других команд и операций, которые вы можете выполнять, в том числе удаление службы.</p>
<p>Например, если в вашей системе есть вредоносное ПО, работающее как служба.</p>
<p>Еще пару примеров команд:</p>
<ul>
  <li>sc delete &lt;servicename&gt; - удалить службу</li>
  <li>sc stop &lt;servicename&gt; - остановить службу</li>
  <li>sc start &lt;servicename&gt; - запустить службу</li>
</ul>
<p>Попробуйте остановить какую-нибудь службу (желательно не системно значимую, а то может быть грустно).&nbsp;</p>
<h1><span class="text-small"><strong>Контрольные вопросы:</strong></span></h1>
<ol>
  <li>Что такое службы Windows?</li>
  <li>При помощи каких инструментов можно управлять службами?</li>
  <li>Как называются службы в Linux?</li>
  <li>Если не разрешить приложению запускаться от имени администратора, сможет ли оно создать службу для работы в фоновом режиме?</li>
</ol>
